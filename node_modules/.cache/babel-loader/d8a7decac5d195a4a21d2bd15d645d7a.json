{"ast":null,"code":"import * as actionTypes from '../actions/actionTypes';\nimport axios from 'axios';\nexport const formSubmitHandler = (email, password, isSignUp) => {\n  return dispatch => {\n    dispatch(authStart());\n    const authData = {\n      email: email,\n      password: password,\n      returnSecureToken: true\n    };\n    console.log(isSignUp);\n    let url = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAyoU9vWd9oZJiKWFZ6qFBI5hKzfGHTy-4';\n\n    if (!isSignUp) {\n      url = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAyoU9vWd9oZJiKWFZ6qFBI5hKzfGHTy-4';\n    }\n\n    axios.post(url, authData).then(response => {\n      console.log(response);\n      dispatch(authSuccess(response.data.idToken, response.data.localId));\n      dispatch(authEnd(null));\n      authLogout();\n    }).catch(error => {\n      console.log(error);\n      dispatch(authEnd(error));\n    });\n  };\n};\n\nconst authLogout = () => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch({\n        type: actionTypes.AUTH_LOGOUT\n      });\n    }, 3000);\n  };\n};\n\nconst authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\n\nconst authSuccess = (token, userId) => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token,\n    userId: userId\n  };\n};\n\nconst authEnd = error => {\n  return {\n    type: actionTypes.AUTH_END,\n    error: error\n  };\n};","map":{"version":3,"sources":["/Users/developer/Documents/Projects/Burger-builder/src/Store/actions/auth.js"],"names":["actionTypes","axios","formSubmitHandler","email","password","isSignUp","dispatch","authStart","authData","returnSecureToken","console","log","url","post","then","response","authSuccess","data","idToken","localId","authEnd","authLogout","catch","error","setTimeout","type","AUTH_LOGOUT","AUTH_START","token","userId","AUTH_SUCCESS","AUTH_END"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,wBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,iBAAiB,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B;AAC/D,SAAOC,QAAQ,IAAI;AAClBA,IAAAA,QAAQ,CAACC,SAAS,EAAV,CAAR;AACA,UAAMC,QAAQ,GAAG;AAChBL,MAAAA,KAAK,EAAEA,KADS;AAEhBC,MAAAA,QAAQ,EAAEA,QAFM;AAGhBK,MAAAA,iBAAiB,EAAE;AAHH,KAAjB;AAKAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACA,QAAIO,GAAG,GAAG,uGAAV;;AACA,QAAG,CAACP,QAAJ,EAAa;AACZO,MAAAA,GAAG,GAAG,mHAAN;AACA;;AACDX,IAAAA,KAAK,CAACY,IAAN,CAAWD,GAAX,EAAgBJ,QAAhB,EACCM,IADD,CACMC,QAAQ,IAAI;AACjBL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACAT,MAAAA,QAAQ,CAACU,WAAW,CAACD,QAAQ,CAACE,IAAT,CAAcC,OAAf,EAAwBH,QAAQ,CAACE,IAAT,CAAcE,OAAtC,CAAZ,CAAR;AACAb,MAAAA,QAAQ,CAACc,OAAO,CAAC,IAAD,CAAR,CAAR;AACAC,MAAAA,UAAU;AACV,KAND,EAMGC,KANH,CAMSC,KAAK,IAAI;AACjBb,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACAjB,MAAAA,QAAQ,CAACc,OAAO,CAACG,KAAD,CAAR,CAAR;AACA,KATD;AAUA,GAtBD;AAuBA,CAxBM;;AA0BP,MAAMF,UAAU,GAAG,MAAM;AACxB,SAAOf,QAAQ,IAAI;AAClBkB,IAAAA,UAAU,CAAC,MAAM;AAChBlB,MAAAA,QAAQ,CAAC;AAACmB,QAAAA,IAAI,EAAEzB,WAAW,CAAC0B;AAAnB,OAAD,CAAR;AACA,KAFS,EAER,IAFQ,CAAV;AAGA,GAJD;AAKA,CAND;;AAQA,MAAMnB,SAAS,GAAG,MAAM;AACvB,SAAO;AACNkB,IAAAA,IAAI,EAAEzB,WAAW,CAAC2B;AADZ,GAAP;AAGA,CAJD;;AAMA,MAAMX,WAAW,GAAG,CAACY,KAAD,EAAQC,MAAR,KAAmB;AACtC,SAAO;AACNJ,IAAAA,IAAI,EAAEzB,WAAW,CAAC8B,YADZ;AAENF,IAAAA,KAAK,EAAEA,KAFD;AAGNC,IAAAA,MAAM,EAAEA;AAHF,GAAP;AAKA,CAND;;AASA,MAAMT,OAAO,GAAIG,KAAD,IAAW;AAC1B,SAAO;AACNE,IAAAA,IAAI,EAAEzB,WAAW,CAAC+B,QADZ;AAENR,IAAAA,KAAK,EAAEA;AAFD,GAAP;AAIA,CALD","sourcesContent":["import * as actionTypes from '../actions/actionTypes';\nimport axios from 'axios';\n\n\nexport const formSubmitHandler = (email, password, isSignUp) => {\n\treturn dispatch => {\n\t\tdispatch(authStart())\n\t\tconst authData = {\n\t\t\temail: email,\n\t\t\tpassword: password,\n\t\t\treturnSecureToken: true\n\t\t}\n\t\tconsole.log(isSignUp)\n\t\tlet url = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAyoU9vWd9oZJiKWFZ6qFBI5hKzfGHTy-4'\n\t\tif(!isSignUp){\n\t\t\turl = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAyoU9vWd9oZJiKWFZ6qFBI5hKzfGHTy-4'\n\t\t}\n\t\taxios.post(url, authData)\n\t\t.then(response => {\n\t\t\tconsole.log(response)\n\t\t\tdispatch(authSuccess(response.data.idToken, response.data.localId))\n\t\t\tdispatch(authEnd(null))\n\t\t\tauthLogout()\n\t\t}).catch(error => {\n\t\t\tconsole.log(error)\n\t\t\tdispatch(authEnd(error))\n\t\t})\n\t}\n} \n\nconst authLogout = () => {\n\treturn dispatch => {\n\t\tsetTimeout(() => {\n\t\t\tdispatch({type: actionTypes.AUTH_LOGOUT})\n\t\t},3000);\n\t}\n}\n\nconst authStart = () => {\n\treturn {\n\t\ttype: actionTypes.AUTH_START\n\t}\n}\n\nconst authSuccess = (token, userId) => {\n\treturn {\n\t\ttype: actionTypes.AUTH_SUCCESS,\n\t\ttoken: token,\n\t\tuserId: userId\n\t}\n}\n\n\nconst authEnd = (error) => {\n\treturn {\n\t\ttype: actionTypes.AUTH_END,\n\t\terror: error\n\t}\n}"]},"metadata":{},"sourceType":"module"}